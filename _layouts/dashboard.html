---
layout: default
---

<div class="dashboard-container">
  <header class="dashboard-header">
    <h1 class="page-heading">{{ page.title | escape }}</h1>
    <p class="dashboard-description">ë¸”ë¡œê·¸ í†µê³„ì™€ ë°ì´í„°ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
  </header>

  <main class="dashboard-content">
    <!-- ê¸°ë³¸ í†µê³„ ì„¹ì…˜ -->
    <section class="dashboard-section stats-section">
      <h2 class="section-title">ê¸°ë³¸ í†µê³„</h2>
      <div class="stats-grid">
        {% comment %} ì•ˆì „í•œ í†µê³„ ê³„ì‚° with ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
        {% assign total_posts = site.posts | size | default: 0 %}
        {% assign total_categories = site.categories | size | default: 0 %}
        {% assign total_words = 0 %}
        {% assign valid_posts_count = 0 %}
        
        {% comment %} ë‹¨ì–´ ìˆ˜ ê³„ì‚° with ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
        {% if site.posts and site.posts.size > 0 %}
          {% for post in site.posts %}
            {% if post.content and post.content != "" %}
              {% assign words = post.content | number_of_words | default: 0 %}
              {% assign total_words = total_words | plus: words %}
              {% assign valid_posts_count = valid_posts_count | plus: 1 %}
            {% endif %}
          {% endfor %}
        {% endif %}
        
        {% comment %} í‰ê·  ê³„ì‚° with 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€ {% endcomment %}
        {% if valid_posts_count > 0 %}
          {% assign avg_words = total_words | divided_by: valid_posts_count %}
        {% else %}
          {% assign avg_words = 0 %}
        {% endif %}

        <div class="stat-card">
          <div class="stat-number">{{ total_posts | default: 0 }}</div>
          <div class="stat-label">ì „ì²´ í¬ìŠ¤íŠ¸</div>
          {% if total_posts == 0 %}
            <div class="stat-note">ì²« í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!</div>
          {% endif %}
        </div>

        <div class="stat-card">
          <div class="stat-number">{{ total_categories | default: 0 }}</div>
          <div class="stat-label">ì¹´í…Œê³ ë¦¬ ìˆ˜</div>
          {% if total_categories == 0 %}
            <div class="stat-note">ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”!</div>
          {% endif %}
        </div>

        <div class="stat-card">
          <div class="stat-number">{{ total_words | number_with_delimiter | default: "0" }}</div>
          <div class="stat-label">ì´ ë‹¨ì–´ ìˆ˜</div>
          {% if total_words == 0 and total_posts > 0 %}
            <div class="stat-note">ë‚´ìš©ì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</div>
          {% endif %}
        </div>

        <div class="stat-card">
          <div class="stat-number">{{ avg_words | default: 0 }}</div>
          <div class="stat-label">í‰ê·  í¬ìŠ¤íŠ¸ ê¸¸ì´</div>
          {% if avg_words == 0 and total_posts > 0 %}
            <div class="stat-note">ë” ìì„¸í•œ ë‚´ìš©ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</div>
          {% endif %}
        </div>
      </div>
      
      {% comment %} ì „ì²´ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ì•ˆë‚´ ë©”ì‹œì§€ {% endcomment %}
      {% if total_posts == 0 %}
        <div class="dashboard-empty-state">
          <div class="empty-state-icon">ğŸ“</div>
          <h3>ì•„ì§ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
          <p>ì²« ë²ˆì§¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì—¬ ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”!</p>
          <div class="empty-state-actions">
            <a href="{{ '/' | relative_url }}" class="dashboard-action-btn">í™ˆìœ¼ë¡œ ê°€ê¸°</a>
          </div>
        </div>
      {% endif %}
    </section>

    <!-- ì¹´í…Œê³ ë¦¬ ë¶„í¬ ì°¨íŠ¸ ì„¹ì…˜ -->
    <section class="dashboard-section chart-section">
      <h2 class="section-title">ì¹´í…Œê³ ë¦¬ë³„ í¬ìŠ¤íŠ¸ ë¶„í¬</h2>
      <div class="chart-container">
        {% comment %} ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê²€ì¦ ë° ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
        {% if site.categories and site.categories.size > 0 %}
          {% assign max_posts = 0 %}
          {% assign valid_categories = 0 %}
          
          {% comment %} ìµœëŒ€ í¬ìŠ¤íŠ¸ ìˆ˜ ê³„ì‚° with ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
          {% for category in site.categories %}
            {% if category[0] and category[1] %}
              {% assign category_size = category[1] | size | default: 0 %}
              {% if category_size > max_posts %}
                {% assign max_posts = category_size %}
              {% endif %}
              {% assign valid_categories = valid_categories | plus: 1 %}
            {% endif %}
          {% endfor %}

          {% if valid_categories > 0 and max_posts > 0 %}
            <div class="category-chart">
              {% for category in site.categories %}
                {% assign category_name = category[0] | default: "ì•Œ ìˆ˜ ì—†ëŠ” ì¹´í…Œê³ ë¦¬" %}
                {% assign category_posts = category[1] %}
                {% assign post_count = category_posts | size | default: 0 %}
                
                {% comment %} 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€ {% endcomment %}
                {% if max_posts > 0 %}
                  {% assign percentage = post_count | times: 100.0 | divided_by: max_posts %}
                {% else %}
                  {% assign percentage = 0 %}
                {% endif %}
                
                {% if category_name != "" and post_count > 0 %}
                  <div class="chart-bar">
                    <div class="bar-label">{{ category_name }}</div>
                    <div class="bar-container">
                      <div class="bar-fill" style="width: {{ percentage }}%"></div>
                      <span class="bar-value">{{ post_count }}</span>
                    </div>
                  </div>
                {% endif %}
              {% endfor %}
            </div>
            
            {% comment %} ì°¨íŠ¸ ìš”ì•½ ì •ë³´ {% endcomment %}
            <div class="chart-summary">
              <p>ì´ {{ valid_categories }}ê°œ ì¹´í…Œê³ ë¦¬, ìµœëŒ€ {{ max_posts }}ê°œ í¬ìŠ¤íŠ¸</p>
            </div>
          {% else %}
            <div class="empty-state">
              <div class="empty-state-icon">ğŸ“Š</div>
              <p>ì¹´í…Œê³ ë¦¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
              <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ì— ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”.</p>
            </div>
          {% endif %}
        {% else %}
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“‚</div>
            <p>ì•„ì§ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”.</p>
            <div class="empty-state-actions">
              <a href="{{ '/categories/' | relative_url }}" class="dashboard-action-btn secondary">ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ë³´ê¸°</a>
            </div>
          </div>
        {% endif %}
      </div>
    </section>

    <!-- ìµœê·¼ í¬ìŠ¤íŠ¸ ì„¹ì…˜ -->
    <section class="dashboard-section recent-posts-section">
      <h2 class="section-title">ìµœê·¼ í¬ìŠ¤íŠ¸ (ìµœê·¼ 5ê°œ)</h2>
      <div class="recent-posts-container">
        {% comment %} í¬ìŠ¤íŠ¸ ë°ì´í„° ê²€ì¦ ë° ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
        {% if site.posts and site.posts.size > 0 %}
          {% comment %} ìµœê·¼ 5ê°œ í¬ìŠ¤íŠ¸ë§Œ ì„ íƒ {% endcomment %}
          {% assign recent_posts = site.posts | limit: 5 %}
          {% assign displayed_posts = 0 %}
          
          <div class="recent-posts-list">
            {% comment %} ìµœê·¼ 5ê°œ í¬ìŠ¤íŠ¸ë§Œ ë°˜ë³µ ì²˜ë¦¬ {% endcomment %}
            {% for post in recent_posts limit: 5 %}
              {% if post.title and post.title != "" and post.url and post.url != "" %}
                <div class="recent-post-item">
                  <div class="post-meta">
                    {% if post.date %}
                      <span class="post-date">{{ post.date | date: "%Y.%m.%d" }}</span>
                    {% else %}
                      <span class="post-date">ë‚ ì§œ ì—†ìŒ</span>
                    {% endif %}
                    
                    {% if post.categories and post.categories.size > 0 %}
                      <span class="post-category">{{ post.categories | first | default: "ë¯¸ë¶„ë¥˜" }}</span>
                    {% else %}
                      <span class="post-category">ë¯¸ë¶„ë¥˜</span>
                    {% endif %}
                  </div>
                  <h3 class="post-title">
                    <a href="{{ post.url | relative_url }}">{{ post.title | escape | default: "ì œëª© ì—†ìŒ" }}</a>
                  </h3>
                  {% if post.excerpt and post.excerpt != "" %}
                    <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
                  {% elsif post.content and post.content != "" %}
                    <p class="post-excerpt">{{ post.content | strip_html | truncatewords: 20 }}</p>
                  {% else %}
                    <p class="post-excerpt"><em>ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</em></p>
                  {% endif %}
                </div>
                {% assign displayed_posts = displayed_posts | plus: 1 %}
              {% endif %}
            {% endfor %}
          </div>
          
          {% comment %} í‘œì‹œëœ í¬ìŠ¤íŠ¸ê°€ ì—†ëŠ” ê²½ìš° {% endcomment %}
          {% if displayed_posts == 0 %}
            <div class="empty-state">
              <div class="empty-state-icon">âš ï¸</div>
              <p>ìœ íš¨í•œ í¬ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
              <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
            </div>
          {% else %}
            {% comment %} ë” ë§ì€ í¬ìŠ¤íŠ¸ê°€ ìˆëŠ” ê²½ìš° ì•ˆë‚´ {% endcomment %}
            <div class="recent-posts-footer">
              <p class="posts-note">
                {% if site.posts.size > 5 %}
                  ìµœê·¼ 5ê°œ í¬ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. (ì „ì²´ {{ site.posts.size }}ê°œ ì¤‘)
                  <a href="{{ '/' | relative_url }}" class="view-all-link">ì „ì²´ í¬ìŠ¤íŠ¸ ë³´ê¸°</a>
                {% else %}
                  ëª¨ë“  í¬ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤. (ì´ {{ site.posts.size }}ê°œ)
                  <a href="{{ '/' | relative_url }}" class="view-all-link">í™ˆí˜ì´ì§€ ë³´ê¸°</a>
                {% endif %}
              </p>
            </div>
          {% endif %}
        {% else %}
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“</div>
            <p>ì•„ì§ ì‘ì„±ëœ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            <p class="empty-state-subtitle">ì²« ë²ˆì§¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
            <div class="empty-state-actions">
              <a href="{{ '/' | relative_url }}" class="dashboard-action-btn">í™ˆìœ¼ë¡œ ê°€ê¸°</a>
            </div>
          </div>
        {% endif %}
      </div>
    </section>

    <!-- ì›”ë³„ í†µê³„ ì„¹ì…˜ -->
    <section class="dashboard-section monthly-stats-section">
      <h2 class="section-title">ì›”ë³„ í¬ìŠ¤íŠ¸ í†µê³„</h2>
      <div class="monthly-stats-container">
        {% comment %} í¬ìŠ¤íŠ¸ ë°ì´í„° ê²€ì¦ ë° ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
        {% if site.posts and site.posts.size > 0 %}
          {% comment %} ì›”ë³„ í¬ìŠ¤íŠ¸ ìˆ˜ ê³„ì‚° with ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
          {% assign months_data = '' | split: '' %}
          {% assign valid_posts_with_dates = 0 %}
          
          {% for post in site.posts %}
            {% if post.date %}
              {% assign post_month = post.date | date: "%Y-%m" %}
              {% if post_month and post_month != "" %}
                {% assign months_data = months_data | push: post_month %}
                {% assign valid_posts_with_dates = valid_posts_with_dates | plus: 1 %}
              {% endif %}
            {% endif %}
          {% endfor %}
          
          {% if valid_posts_with_dates > 0 %}
            {% assign unique_months = months_data | uniq | sort | reverse %}
            {% assign max_count = 0 %}
            
            {% comment %} ìµœëŒ€ í¬ìŠ¤íŠ¸ ìˆ˜ ì°¾ê¸° with ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
            {% for month in unique_months %}
              {% assign month_count = 0 %}
              {% for post in site.posts %}
                {% if post.date %}
                  {% assign post_month = post.date | date: "%Y-%m" %}
                  {% if post_month == month %}
                    {% assign month_count = month_count | plus: 1 %}
                  {% endif %}
                {% endif %}
              {% endfor %}
              {% if month_count > max_count %}
                {% assign max_count = month_count %}
              {% endif %}
            {% endfor %}
            
            {% if unique_months.size > 0 and max_count > 0 %}
              <div class="monthly-stats-chart">
                {% for month in unique_months limit: 12 %}
                  {% assign month_count = 0 %}
                  {% assign month_display = '' %}
                  
                  {% for post in site.posts %}
                    {% if post.date %}
                      {% assign post_month = post.date | date: "%Y-%m" %}
                      {% if post_month == month %}
                        {% assign month_count = month_count | plus: 1 %}
                        {% if month_display == '' %}
                          {% assign month_display = post.date | date: "%Yë…„ %mì›”" %}
                        {% endif %}
                      {% endif %}
                    {% endif %}
                  {% endfor %}
                  
                  {% comment %} 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€ {% endcomment %}
                  {% if max_count > 0 %}
                    {% assign percentage = month_count | times: 100.0 | divided_by: max_count %}
                  {% else %}
                    {% assign percentage = 0 %}
                  {% endif %}
                  
                  {% if month_display != "" and month_count > 0 %}
                    <div class="monthly-stat-bar">
                      <div class="month-label">{{ month_display }}</div>
                      <div class="month-bar-container">
                        <div class="month-bar-fill" style="width: {{ percentage }}%"></div>
                        <span class="month-bar-value">{{ month_count }}ê°œ</span>
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
              
              <div class="monthly-stats-summary">
                <div class="stats-summary-item">
                  <span class="summary-label">ì´ í™œë™ ê¸°ê°„:</span>
                  <span class="summary-value">{{ unique_months.size | default: 0 }}ê°œì›”</span>
                </div>
                <div class="stats-summary-item">
                  <span class="summary-label">ì›”í‰ê·  í¬ìŠ¤íŠ¸:</span>
                  {% if unique_months.size > 0 %}
                    {% assign avg_monthly = valid_posts_with_dates | divided_by: unique_months.size %}
                    <span class="summary-value">{{ avg_monthly | default: 0 }}ê°œ</span>
                  {% else %}
                    <span class="summary-value">0ê°œ</span>
                  {% endif %}
                </div>
                <div class="stats-summary-item">
                  <span class="summary-label">ìµœë‹¤ ì‘ì„± ì›”:</span>
                  {% assign max_month_display = '' %}
                  {% for month in unique_months %}
                    {% assign month_count = 0 %}
                    {% for post in site.posts %}
                      {% if post.date %}
                        {% assign post_month = post.date | date: "%Y-%m" %}
                        {% if post_month == month %}
                          {% assign month_count = month_count | plus: 1 %}
                          {% if month_count == max_count and max_month_display == '' %}
                            {% assign max_month_display = post.date | date: "%Yë…„ %mì›”" %}
                          {% endif %}
                        {% endif %}
                      {% endif %}
                    {% endfor %}
                  {% endfor %}
                  <span class="summary-value">
                    {% if max_month_display != "" %}
                      {{ max_month_display }} ({{ max_count }}ê°œ)
                    {% else %}
                      ë°ì´í„° ì—†ìŒ
                    {% endif %}
                  </span>
                </div>
              </div>
            {% else %}
              <div class="empty-state">
                <div class="empty-state-icon">ğŸ“…</div>
                <p>ì›”ë³„ í†µê³„ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                <p class="empty-state-subtitle">ìœ íš¨í•œ ë‚ ì§œ ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.</p>
              </div>
            {% endif %}
          {% else %}
            <div class="empty-state">
              <div class="empty-state-icon">âš ï¸</div>
              <p>ë‚ ì§œ ì •ë³´ê°€ ìˆëŠ” í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
              <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ì— ì˜¬ë°”ë¥¸ ë‚ ì§œë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.</p>
            </div>
          {% endif %}
        {% else %}
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“Š</div>
            <p>ì•„ì§ ì‘ì„±ëœ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë©´ ì›”ë³„ í†µê³„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <div class="empty-state-actions">
              <a href="{{ '/' | relative_url }}" class="dashboard-action-btn">í™ˆìœ¼ë¡œ ê°€ê¸°</a>
            </div>
          </div>
        {% endif %}
      </div>
    </section>

    <!-- ì¸ê¸° ì¹´í…Œê³ ë¦¬ ì„¹ì…˜ -->
    <section class="dashboard-section popular-categories-section">
      <h2 class="section-title">ì¸ê¸° ì¹´í…Œê³ ë¦¬ TOP 5</h2>
      <div class="popular-categories-container">
        {% comment %} ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê²€ì¦ ë° ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
        {% if site.categories and site.categories.size > 0 %}
          {% comment %} ì¹´í…Œê³ ë¦¬ë¥¼ í¬ìŠ¤íŠ¸ ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ with ì˜¤ë¥˜ ì²˜ë¦¬ {% endcomment %}
          {% assign sorted_categories = site.categories | sort %}
          {% assign category_counts = '' | split: '' %}
          {% assign valid_categories_count = 0 %}
          
          {% comment %} ì¹´í…Œê³ ë¦¬ë³„ í¬ìŠ¤íŠ¸ ìˆ˜ì™€ í•¨ê»˜ ë°°ì—´ ìƒì„± with ê²€ì¦ {% endcomment %}
          {% for category in sorted_categories %}
            {% assign category_name = category[0] %}
            {% assign category_posts = category[1] %}
            
            {% if category_name and category_name != "" and category_posts %}
              {% assign post_count = category_posts | size | default: 0 %}
              {% if post_count > 0 %}
                {% assign category_data = category_name | append: '|' | append: post_count %}
                {% assign category_counts = category_counts | push: category_data %}
                {% assign valid_categories_count = valid_categories_count | plus: 1 %}
              {% endif %}
            {% endif %}
          {% endfor %}
          
          {% if valid_categories_count > 0 %}
            {% comment %} í¬ìŠ¤íŠ¸ ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì„ ìœ„í•œ ì„ì‹œ ë°°ì—´ {% endcomment %}
            {% assign top_categories = '' | split: '' %}
            {% assign top_categories_data = '' | split: '' %}
            
            {% for i in (1..5) %}
              {% assign max_count = 0 %}
              {% assign max_category = '' %}
              {% assign max_index = -1 %}
              
              {% for j in (0..category_counts.size) %}
                {% assign current_data = category_counts[j] %}
                {% if current_data and current_data != "" %}
                  {% assign data_parts = current_data | split: '|' %}
                  {% if data_parts.size >= 2 %}
                    {% assign current_count = data_parts[1] | plus: 0 %}
                    {% if current_count > max_count %}
                      {% assign max_count = current_count %}
                      {% assign max_category = data_parts[0] %}
                      {% assign max_index = j %}
                    {% endif %}
                  {% endif %}
                {% endif %}
              {% endfor %}
              
              {% if max_category != '' and max_count > 0 %}
                {% assign top_categories = top_categories | push: max_category %}
                {% assign category_info = max_category | append: '|' | append: max_count %}
                {% assign top_categories_data = top_categories_data | push: category_info %}
                
                {% comment %} ì‚¬ìš©ëœ ì¹´í…Œê³ ë¦¬ë¥¼ ë°°ì—´ì—ì„œ ì œê±° {% endcomment %}
                {% assign temp_array = '' | split: '' %}
                {% for k in (0..category_counts.size) %}
                  {% unless k == max_index %}
                    {% if category_counts[k] and category_counts[k] != "" %}
                      {% assign temp_array = temp_array | push: category_counts[k] %}
                    {% endif %}
                  {% endunless %}
                {% endfor %}
                {% assign category_counts = temp_array %}
              {% endif %}
            {% endfor %}
            
            {% if top_categories.size > 0 %}
              <div class="popular-categories-list">
                {% for category_data in top_categories_data %}
                  {% assign data_parts = category_data | split: '|' %}
                  {% assign category_name = data_parts[0] | default: "ì•Œ ìˆ˜ ì—†ëŠ” ì¹´í…Œê³ ë¦¬" %}
                  {% assign post_count = data_parts[1] | plus: 0 %}
                  {% assign rank = forloop.index %}
                  
                  {% if category_name != "" and post_count > 0 %}
                    <div class="popular-category-item">
                      <div class="category-rank">{{ rank }}</div>
                      <div class="category-info">
                        <h3 class="category-name">
                          <a href="{{ '/category/' | append: category_name | slugify | append: '/' | relative_url }}">{{ category_name }}</a>
                        </h3>
                        <div class="category-stats">
                          <span class="post-count">{{ post_count }}ê°œ í¬ìŠ¤íŠ¸</span>
                          {% if site.posts.size > 0 %}
                            {% assign percentage = post_count | times: 100.0 | divided_by: site.posts.size %}
                            <span class="category-percentage">({{ percentage | round: 1 }}%)</span>
                          {% else %}
                            <span class="category-percentage">(0%)</span>
                          {% endif %}
                        </div>
                      </div>
                      <div class="category-progress">
                        {% if site.posts.size > 0 %}
                          {% assign progress_percentage = post_count | times: 100.0 | divided_by: site.posts.size %}
                          <div class="progress-bar">
                            <div class="progress-fill" style="width: {{ progress_percentage }}%"></div>
                          </div>
                        {% else %}
                          <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                          </div>
                        {% endif %}
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
              
              {% if valid_categories_count > 5 %}
                <div class="popular-categories-footer">
                  <p class="categories-note">
                    ì´ {{ valid_categories_count }}ê°œ ì¹´í…Œê³ ë¦¬ ì¤‘ ìƒìœ„ {{ top_categories.size }}ê°œë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
                    <a href="{{ '/categories/' | relative_url }}" class="view-all-link">ì „ì²´ ì¹´í…Œê³ ë¦¬ ë³´ê¸°</a>
                  </p>
                </div>
              {% elsif valid_categories_count <= 5 %}
                <div class="popular-categories-footer">
                  <p class="categories-note">
                    ëª¨ë“  ì¹´í…Œê³ ë¦¬ë¥¼ í‘œì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤.
                    <a href="{{ '/categories/' | relative_url }}" class="view-all-link">ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ë³´ê¸°</a>
                  </p>
                </div>
              {% endif %}
            {% else %}
              <div class="empty-state">
                <div class="empty-state-icon">âš ï¸</div>
                <p>ì¸ê¸° ì¹´í…Œê³ ë¦¬ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                <p class="empty-state-subtitle">ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
              </div>
            {% endif %}
          {% else %}
            <div class="empty-state">
              <div class="empty-state-icon">ğŸ“Š</div>
              <p>ìœ íš¨í•œ ì¹´í…Œê³ ë¦¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
              <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ì— ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”.</p>
            </div>
          {% endif %}
        {% else %}
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“‚</div>
            <p>ì•„ì§ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            <p class="empty-state-subtitle">í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”.</p>
            <div class="empty-state-actions">
              <a href="{{ '/categories/' | relative_url }}" class="dashboard-action-btn secondary">ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ë³´ê¸°</a>
            </div>
          </div>
        {% endif %}
      </div>
    </section>
  </main>
</div>

{{ content }}